# üß© Dependency Injection —Å Needle (Uber)

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **[Needle](https://github.com/uber/needle)** ‚Äî compile-time Dependency Injection —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –æ—Ç Uber –¥–ª—è Swift.

Needle –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç DI-–∫–æ–¥ –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è:

* ‚ùå –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ runtime-overhead
* ‚úÖ —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
* üöÄ –±—ã—Å—Ç—Ä—É—é –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
* üß† —è–≤–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

* DI –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **Component/Dependency** –ø–æ–¥—Ö–æ–¥–µ
* –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤:

  ```text
  Core/HeedAssembly/Sources
  ```
* –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –∏ **–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é**

---

## üõ† –ì–µ–Ω–µ—Ä–∞—Ü–∏—è DI-–∫–æ–¥–∞

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Needle-–∫–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è bash-—Å–∫—Ä–∏–ø—Ç.

### –°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```bash
./needle_generation.sh
```

## üìÑ –†–µ–∑—É–ª—å—Ç–∞—Ç

* –§–∞–π–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

  ```text
  Core/HeedAssembly/Sources/Generated/NeedleGenerated.swift
  ```
* –§–∞–π–ª **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è**
* –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω—ë–º –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã

---

## üìå –í–∞–∂–Ω–æ

* ‚ùó –ü–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `needle` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

  ```bash
  brew install needle
  ```
* ‚ùó –ù–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `NeedleGenerated.swift` –≤—Ä—É—á–Ω—É—é
* ‚ùó –í—Å–µ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è **—Ç–æ–ª—å–∫–æ** —á–µ—Ä–µ–∑ `Component` / `Dependency`

---

## üîÑ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ cmd+B