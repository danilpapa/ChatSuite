# –°–∫–≤–æ–∑–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (E2EE) –≤ —á–∞—Ç–µ

–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–∫–≤–æ–∑–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤. –ù–∏ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∏ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ ‚Äî –ø–æ —Å–µ—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

---

## üîê –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. **–û–±–º–µ–Ω –∞—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞)**
- –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–≤–æ—é **–≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞—Ä—É –∫–ª—é—á–µ–π Curve25519** (public, private key).
- Public –∫–ª—é—á–∏ **–æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç–æ** –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —á–∞—Ç–∞.
- –° –ø–æ–º–æ—â—å—é –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ **Elliptic Curve Diffie-Hellman (ECDH)** –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –≤—ã—á–∏—Å–ª—è—é—Ç **–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—â–∏–π —Å–µ–∫—Ä–µ—Ç**, –∏—Å–ø–æ–ª—å–∑—É—è:
  - –°–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á  
  - –û—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞  

> –≠—Ç–æ—Ç –æ–±—â–∏–π —Å–µ–∫—Ä–µ—Ç **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ —Å–µ—Ç–∏** ‚Äî –æ–Ω –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.

### 2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–≥–æ —Å–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞**
- –ü–æ–ª—É—á–µ–Ω–Ω—ã–π –æ–±—â–∏–π —Å–µ–∫—Ä–µ—Ç **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é** –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.
- –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ **HKDF (Key Derivation Function –Ω–∞ –æ—Å–Ω–æ–≤–µ HMAC)** —Å SHA-256, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å **–Ω–∞–¥—ë–∂–Ω—ã–π —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–π –∫–ª—é—á –¥–ª–∏–Ω–æ–π 256 –±–∏—Ç**.
- –≠—Ç–æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∫–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ä–∞–º–∫–∞—Ö —Å–µ—Å—Å–∏–∏.

### 3. **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π**
- –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —à–∏—Ñ—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é **AES-256 –≤ —Ä–µ–∂–∏–º–µ GCM (Galois/Counter Mode)**:
  - –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å** (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
  - –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **—Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å** (—á–µ—Ä–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ–≥)
- –†–µ–∑—É–ª—å—Ç–∞—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (`SealedBox`) –≤–∫–ª—é—á–∞–µ—Ç:
  - –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—à–∏—Ñ—Ä–æ—Ç–µ–∫—Å—Ç)  
  - –í–µ–∫—Ç–æ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (IV/nonce)  
  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ–≥  
- –í—Å–µ —ç—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã **–æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–∏–Ω –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏.

### 4. **–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞**
- –ü–æ–ª—É—á–∞—Ç–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç–æ—Ç –∂–µ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–π –∫–ª—é—á**, —á—Ç–æ–±—ã:
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ–≥ (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ)
  - –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ), —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ **–±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π**.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Apple CryptoKit** ‚Äî –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ —É—Å–∫–æ—Ä–µ–Ω–Ω–∞—è, –∑–∞—â–∏—â—ë–Ω–Ω–∞—è –æ—Ç –∞—Ç–∞–∫ –ø–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º –∫–∞–Ω–∞–ª–∞–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–æ –ø–∞–º—è—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞.